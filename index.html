<!DOCTYPE html>
<!-- <html lang="en" data-theme="light"> -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.min.css">
    <title>Misusing the &lt;details&gt; Element</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"> -->
<style>
    body {
        max-width: 800px;
        padding: 1em;
        margin: 0 auto 3em auto;
        min-height: 100vh;

        @media only screen and (prefers-color-scheme: light){
            background-color: antiquewhite;
        }
        html[data-theme="light"] & {
            background-color: antiquewhite;
        }
    }

    nav {
        details {
            summary {
                margin: 0 0 1em 0!important;
            }
            margin: 0;
            padding: 0;
            position: relative;

            ul {
                position: absolute;
                background: white;
                border: 1px solid #ccc;
                list-style: none;
                flex-direction: column;
            }
        }
    }

    blockquote {
        border-left: 4px solid #ccc;
        margin: 1em 0;
        padding-left: 1em;
        color: var(--pico-muted-color);
        font-style: italic;
        &::after {
            content: attr(cite);
            font-size: 0.8em;
            display : block;
            margin-top: 0.5em;
            text-align: right;
        }
    }

    .tab-container {
        position: relative;
        width: 100%;
        height: 180px;
        margin: 2em 0;

        details {
            display: inline-block;
            max-width: 30%;

            summary {
                display: inline-block;
                padding: 12px 20px;
                background: #f5f5f5;
                border: 1px solid #ccc;
                border-bottom: none;
                border-radius: 8px 8px 0 0;
                cursor: pointer;
                position: relative;
                font-weight: 500;
                transition: all 0.2s ease;
                z-index: 3;
                height: 43px;
                &::after {
                    display: none;
                }

                &:hover {
                    background: #e9e9e9;
                }
                [open] & {
                    background: white;
                    height: 44px;
                    pointer-events: none; /* we want to disable closing a details, otherwise no tab would be open */
                }
            }            

            &::details-content {
                display: none;
                position: absolute;
                left: 0;
                right: 0;
                top: 43px;
                padding: 20px;
                background: white;
                color: black;
                border: 1px solid #ccc;
                border-radius: 0 8px 8px 8px;
                z-index: 1;
                min-height: 120px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }     
            &[open]::details-content {
                display: block;
            }
        }
    }


    details.modal {
        position: relative;
        summary {
            display: inline-block;
            width: auto;
            margin-bottom: 0;
            &::after {
                display: none;
            }
            [open] &::after {
                display: block;
                z-index: 100;
                position: fixed;
                top: 0;
                right: 1em;
                font-size: 2em;
                background: none;
                content: "âœ•";
            }
        }
        &::details-content {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background: var(--pico-background-color);
            border: 1px solid var(--pico-border-color);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 11;
            min-width: 300px;
        }
        &[open]::details-content {
            display: block;
        }

        &[open]::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(4px);
            z-index: 10;
        }
    }

    details.tooltip {
        position: relative;
        display: inline-block;
        border-bottom: 1px dotted black;
        cursor: help;
        summary {
            cursor: help;
            margin-bottom: 0;
            &::after {
                display: none;
            }
        }

        &::details-content {
            display: none;
            width: 200px;
            background-color: black;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
        }     
        &[open]::details-content {
            display: block;
        }
    }
    
    details.footnote {
        position: relative;
        display: inline-block;
        border-bottom: 1px dotted black;
        cursor: pointer;
        summary {
            cursor: pointer;
            text-decoration: dashed underline;
            &::after {
                display: none;
            }
            [open] & {
                margin-bottom: 0;
            }
        }
        &::details-content {
            display: none;
            margin-top: 1em;
            font-size: 0.9em;
            color: #555;
            padding: 0.5em;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: yellow;
            border-top: 1px solid #ccc;
            z-index: 1;
        }
        &[open]::details-content {
            display: block;
        }
    }

</style>

</head>
<body>

    <h1>Misusing the &lt;details&gt; Element</h1>

    <nav>
        <details name="nav">
            <summary>Nav Element 1</summary>
            <ul>
                <li><a href="#">Link 1</a></li>
                <li><a href="#">Link 2</a></li>
            </ul>
        </details>
        <details name="nav">
            <summary>Nav Element 2</summary>
            <ul>
                <li><a href="#">Link 1</a></li>
                <li><a href="#">Link 2</a></li>
            </ul>
        </details>
        <details name="nav">
            <summary>Nav Element 3</summary>
            <ul>
                <li><a href="#">Link 1</a></li>
                <li><a href="#">Link 2</a></li>
            </ul>
        </details>
    </nav>

    <main>
        <p><a href="https://html.spec.whatwg.org/#the-details-element">The HTML specs</a> clearly states that the <code>&lt;details&gt;</code> element is not to be used to implement menu bars or tab widgets, so lets do exactly that.</p>
        <blockquote cite="https://html.spec.whatwg.org/#the-details-element">
            As with all HTML elements, it is not conforming to use the details element when attempting to represent another type of control. For example, tab widgets and menu widgets are not disclosure widgets, so abusing the details element to implement these patterns is incorrect.
        </blockquote>

        <div class="tab-container">
            <details name="tab" open>
                <summary>Tab 1</summary>
                <p>This is the content of Tab 1.</p>
            </details>
            <details name="tab">
                <summary>Tab 2</summary>
                <p>This is the content of Tab 2.</p>
            </details>
            <details name="tab">
                <summary>Tab 3</summary>
                <p>This is the content of Tab 3.</p>
            </details>
        </div>

        <p>And further:</p>
        <blockquote cite="https://html.spec.whatwg.org/#the-details-element">
            The details element is not appropriate for footnotes. Please see the section on footnotes for details on how to mark up footnotes.
        </blockquote>

        So lets not build
        <details class="footnote">
            <summary>Footnotes</summary>
            By the way, why would you implement footnotes anyway?
        </details>
        like that.
        
        <h2>What else shouldn't we do?</h2>

        <p>Modal Dialogs are probably off limits.</p>
        <details class="modal">
            <summary role="button">Open Dialog</summary>
            <h3>Modal Dialog</h3>
            <p>This is a modal dialog.</p>
            <p>It uses the &lt;details&gt; element.</p>
        </details>

        <div>And <code>&lt;details&gt;</code> should definitely not be used for <details class="tooltip"><summary>Tooltips</summary>Even though technically they could.</details>.</div>


    </main>

</body>
</html>